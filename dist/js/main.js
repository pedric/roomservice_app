
function time(){var time=new Date();var hours=time.getHours();var minutes=time.getMinutes();if(minutes<=9){minutes="0"+minutes;}
var year=time.getFullYear();var month=time.getMonth()+1;var day=time.getUTCDate();if(month<=9){month="0"+month;}
if(day<=9){day="0"+day;}
$("#clock").html(hours+":"+minutes);$("#date").html(year+"/"+month+"/"+day);}
$(function(){time();setInterval('time()',10000);});function closeThis(){$("#edit-alternatives").animate({"opacity":0},function(){$(this).remove();});}
function closeErrorMsg(){$("#error-msg").animate({"opacity":0},function(){$(this).remove();});}
$(function(){var height=$(window).height();var marginTop=height+50-(2*height);$("header").css({"margin-top":marginTop,"height":height});$(".draggable").draggable({axis:"y",containment:'window',stop:function(){snapToTopBottom();}});function flipArrow(){var headerTop=$("header").css("top");headerTop=parseInt(headerTop,"10");var flippingPoint=30;if(headerTop>flippingPoint){$("#arrow").removeClass("fa-angle-down").addClass("fa-angle-up");}else{$("#arrow").removeClass("fa-angle-up").addClass("fa-angle-down");}}
function snapToTopBottom(){var height=$(window).height();var breakingPoint=height/2;var headerTop=$("header").css("top");headerTop=parseInt(headerTop,"10");if(breakingPoint>=headerTop){$("header").animate({"top":0},function(){flipArrow();});}else{$("header").animate({"top":height-50},function(){flipArrow();});}}});$(function(){$(".draggable-todo-item").draggable({axis:"x",containment:'parent',revert:"invalid",snap:".droppable",snapMode:"inner",snapTolerance:50});$(".droppable-to-do").droppable({drop:function(event,ui){var no=parseInt($(this).attr("data-roomnumber"));var hotel_id=$(".todo-list").attr("data-hotel");var thisEl=$(this).parent("li");$.ajax({url:"update_room_status.php",data:{room_number:no,status:1,hotel:hotel_id},type:"GET",success:function(data){$(thisEl).animate({"opacity":0},function(){$(thisEl).animate({"height":0,"marginBottom":0},function(){$(thisEl).remove();});});}});}});$(".draggable-dirtify-item").draggable({axis:"x",containment:'parent',revert:"invalid",snap:".droppable",snapMode:"inner",snapTolerance:50});$(".droppable-dirtify").droppable({drop:function(event,ui){var no=parseInt($(this).attr("data-roomnumber"));var hotel_id=$(".dirtify-list").attr("data-hotel");var thisEl=$(this).parent("li");$.ajax({url:"update_room_status.php",data:{room_number:no,status:0,hotel:hotel_id},type:"GET",success:function(data){$(thisEl).animate({"opacity":0},function(){$(thisEl).animate({"height":0,"marginBottom":0},function(){$(thisEl).remove();});});}});}});});$(function(){$("body").on("keyup",".validate input",function(){valid=false;var val=$(this).val().length;if(val<=3){$(this).css("background","pink");$(this).parent().next(".validate-to-submit").animate({"height":"0px"},200);valid=false;}else{$(this).css("background","#fff");valid=true;}
if(valid){$(this).parent().next(".validate-to-submit").animate({"height":"38px"},200);}});});$(function(){$('body').on('click','.ajaxLoader',function(e){e.preventDefault();var link=$(this).attr('href');targetElement=$(".container");$.ajax({url:link,datatype:'php',success:function(data){targetElement.fadeOut(0).html(data).fadeIn(200);}});});});function editUserPopup(id,hotel){$.ajax({url:"edit_user_popup.php",data:{user_id:id,hotel:hotel},type:"GET",success:function(data){$("body").append(data);$("#edit-alternatives").animate({"opacity":1});}});}
function editRoomPopup(id,hotel){$.ajax({url:"edit_room_popup.php",data:{room_number:id,hotel:hotel},type:"GET",success:function(data){$("body").append(data);$("#edit-alternatives").animate({"opacity":1});}});}
function addRoomPopup(){$.ajax({url:"add_room.php",type:"GET",success:function(data){$("body").append(data);$("#edit-alternatives").animate({"opacity":1});}});}
function addUserPopup(){$.ajax({url:"add_user.php",type:"GET",success:function(data){$("body").append(data);$("#edit-alternatives").animate({"opacity":1});}});}
$(function(){var scrollToElementOnLinkClick=function(e){e.preventDefault();var link=$(this).attr('href');var linkEl=$(link);var height=60;$('html, body').animate({scrollTop:linkEl.offset().top-height},750);};$(".scroll-this").click(scrollToElementOnLinkClick);});!function(a){function f(a,b){if(!(a.originalEvent.touches.length>1)){a.preventDefault();var c=a.originalEvent.changedTouches[0],d=document.createEvent("MouseEvents");d.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(d)}}if(a.support.touch="ontouchend"in document,a.support.touch){var e,b=a.ui.mouse.prototype,c=b._mouseInit,d=b._mouseDestroy;b._touchStart=function(a){var b=this;!e&&b._mouseCapture(a.originalEvent.changedTouches[0])&&(e=!0,b._touchMoved=!1,f(a,"mouseover"),f(a,"mousemove"),f(a,"mousedown"))},b._touchMove=function(a){e&&(this._touchMoved=!0,f(a,"mousemove"))},b._touchEnd=function(a){e&&(f(a,"mouseup"),f(a,"mouseout"),this._touchMoved||f(a,"click"),e=!1)},b._mouseInit=function(){var b=this;b.element.bind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),c.call(b)},b._mouseDestroy=function(){var b=this;b.element.unbind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),d.call(b)}}}(jQuery);